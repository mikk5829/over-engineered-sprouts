extends layout

block scripts
    //script(type="text/javascript" src="scripts/main-menu.js")
    script(type="text/javascript" src="scripts/client.js")
    script(type="text/javascript" src="https://unpkg.com/acorn")
    script(type='text/javascript' src='scripts/frameworks/paper-full.js')
    script(type='module' src='scripts/sprout-game.js')
    //script(type='text/javascript' src='scripts/webelements.js')


block content
    style.
        .w3-table#rooms {
            margin: 0 1em;
            width: 24em;
            height:30em;
            cursor: pointer;
            background-color: #fefff9;
            border: 2px solid #4bac88;
            border-radius: 4px;
        }

        .w3-table#messages {
            background-color: #fefff9;
            border: 2px solid #4bac88;
            border-radius: 4px;
            height: 100%;
            font-size: 0.7em;
            font-weight: normal;
            letter-spacing: 0.1em;
            line-height: 0.5em;
        }

        #sproutGameCanvas {
            /*border: 2px solid #4bac88;*/
            background-color: #e7ffe7;
            position: relative;
            width: 100%;
            height: 70%;
            z-index: 4;
        }

        #messages {
            list-style: none;
            max-height:10em;
        }

    div(class="container")
        // Sprouts logo
        a(href="/" style="position: relative; z-index: 0;")
            img(style="width:35em;" src='../assets/sprouts4.svg')

        // The main content of the page
        div(class="main-block flex-container" style="align-items: center; display:inline-flex;")#mainMenu

            // Buttons on left side
            div(style="position:relative;bottom:5%;")
                a(class='button')#importBtn Import
                    input(type='file' name='world-input' id='world-file-input' style="display:none" accept="text/plain,.txt" onchange="handleFile(this.files)")
                a(class='button' href="game")#generateBtn Generate
                a(class='button' href="customize")#settingsBtn Settings
                a(class='button' href="scoreboard")#scoreboardBtn Scoreboard

            div
                // Table containing a list of games
                table(class="w3-table w3-hoverable")#rooms
                    thead
                        tr
                            th(class="w3-left-align") name
                            th(class="w3-right-align") players
                    tbody

                a(class='button')#quickplayBtn Quickplay

        div(class="main-block flex-container hidden" style= "display:inline-block;")#gamePane
            canvas(resize="true")#sproutGameCanvas
            table(class="w3-table w3-striped w3-text-teal")#messages
                tbody

            form(action="" autocomplete="off")
                div(class="flex-container" style="display:inline-flex; width:100%")
                    input(type="text" style="width:90%;")#msg
                    button Send



